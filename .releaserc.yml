---
branches:
  - main
  - master

plugins:
  # commit analyzer
  - - '@semantic-release/commit-analyzer'
    - preset: angular
      releaseRules:
        - breaking: true
          release: major
        - type: docs
          release: false
        - type: feat
          release: minor
        - type: fix
          release: patch
        - type: perf
          release: patch
        - type: refactor
          release: patch
        - type: revert
          release: patch
        - type: style
          release: patch
        - type: test
          release: patch
        - type: ci
          release: false
        - type: build
          release: false
        - type: article
          release: false

  # notes generator
  - - '@semantic-release/release-notes-generator'
    - preset: conventionalcommits
      presetConfig:
        types:
          - type: breaking
            section: â— Breaking â—
            hidden: false
          - type: feat
            section: âœ¨ Feature âœ¨
            hidden: false
          - type: fix
            section: ğŸ› Bugfix ğŸ›
            hidden: false
          - type: ci
            section: ğŸ’¿ Continuous Integration ğŸ’¿
            hidden: false
          - type: chore
            section: Chore
            hidden: true
          - type: style
            section: ğŸ–Œï¸ Style ğŸ–Œï¸
            hidden: false
          - type: test
            section: ğŸ§ª Test ğŸ§ª
            hidden: false
          - type: docs
            section: ğŸ“– Documentation ğŸ“–
            hidden: false
          - type: perf
            section: ï¸ğŸ Performance Improvements ğŸ
            hidden: false
          - type: build
            section: ğŸ—ï¸ Build ğŸ—ï¸
            hidden: false
          - type: revert
            section: ğŸ”™ Reverts ğŸ”™
            hidden: false
          - type: refactor
            section: ğŸ”§ Refactor ğŸ”§
            hidden: false
          - type: article
            section: ğŸ“° Articles ğŸ“°
            hidden: false

  # changelog
  - - '@semantic-release/changelog'
    - changelogTitle: '# Changelog'

  # npm
  - - '@semantic-release/npm'
    - npmPublish: false

  # exec
  - - '@semantic-release/exec'
    - prepareCmd: 'sh ./semrel-prepare.sh "${nextRelease.version}"'

  # next-sitemap
  - - '@genaumann/semantic-release-next-sitemap'
    - sitemapPath: 'app/sitemap.xml'
      sitemapFunction: 'lib/sitemap.ts'
  
  # git
  - - '@semantic-release/git'
    - message: 'chore(release): ${nextRelease.version} [skip ci]'
      assets:
        - CHANGELOG.md
        - VERSION
        - package.json
        - pnpm-lock.yaml

  # github
  - '@semantic-release/github'
